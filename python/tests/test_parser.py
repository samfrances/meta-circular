import pytest

from ..parser import parse

@pytest.mark.parametrize(
    "input,parsed",
    (
        ("", [],),
        ("()", [[]]),
        ("[]", [[]]),
        ("{}", [[]]),
        ("() ()", [[], []]),
        ("[] []", [[], []]),
        ("{} {}", [[], []]),
        ("[] ()", [[], []]),
        ("() []", [[], []]),
        ("{} ()", [[], []]),
        ("() () ()", [[], [], []]),
        ("()\n()", [[], []]),
        ("(a)", [["a"]]),
        ("(a) (b) () (c)", [["a"], ["b"], [], ["c"]]),
        ("(a b)", [["a", "b"]]),
        ("(a b c)", [["a", "b", "c"]]),
        ("(a b (c d))", [["a", "b", ["c", "d"]]]),
        ("(a b (c d)) (a)", [["a", "b", ["c", "d"]], ["a"]]),
        ("(1)", [[1]]),
        ("(1.2)", [[1.2]])
    )
)
def test_parser_on_valid_inputs(input, parsed):
    assert parse(input) == parsed